<div class="payments-container">
  <h2>ðŸ’° Payments</h2>

  <!-- Existing Payments -->
  <h3>ðŸ“œ Payment History</h3>
  <div *ngIf="payments.length > 0; else noPayments">
    <div class="payment-card" *ngFor="let p of payments">
      <p>
        <b>{{ getUserName(p.fromUserId) }}</b> â†’ 
        <b>{{ getUserName(p.toUserId) }}</b> : â‚¹{{ p.amount }}
      </p>
      <span class="completed">âœ… Completed</span>
    </div>
  </div>
  <ng-template #noPayments>
    <p>No payments yet.</p>
  </ng-template>

  <!-- Add New Payment -->
  <h3>âž• Make a Payment</h3>
  <form (ngSubmit)="addPayment()" class="payment-form">
    <div class="form-group">
  <label>From</label>
  <p><b>{{ getUserName(newPayment.fromUserId) }}</b></p>
</div>

<div class="form-group">
  <label>To</label>
  <select [(ngModel)]="newPayment.toUserId" name="toUserId" required>
    <option value="0">Select Receiver</option>
    <option *ngFor="let m of members" [value]="m.id" [disabled]="m.id === newPayment.fromUserId">
      {{ m.username }}
    </option>
  </select>
</div>


    <div class="form-group">
      <label>Amount</label>
      <input type="number" [(ngModel)]="newPayment.amount" name="amount" min="1" required />
    </div>

    <button type="submit" class="btn">ðŸ’¸ Pay Now</button>
  </form>
</div>
